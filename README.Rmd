---
title: "README"
output: md_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## Soil Knowledge Base

[![R build status](https://github.com/brownag/SoilKnowledgeBase/workflows/R-CMD-check/badge.svg)](https://github.com/brownag/SoilKnowledgeBase/actions)

A soil "knowledge base" centered around the **National Cooperative Soil Survey** (NCSS) standards as used by the **USDA-NRCS** and defined in the **National Soil Survey Handbook** (NSSH). 
This repository is also an **R** package that facilitates the version control of and programmatic access to products from official data sources.

### Get started
```{r, echo=TRUE, eval=FALSE}
# install.packages("remotes")
remotes::install_github("brownag/SoilKnowledgeBase")

SoilKnowledgeBase::parse_nssh_structure()
```

### The Structure of the National Soil Survey Handbook (NSSH)

```{r, results='asis'}
dat <- SoilKnowledgeBase::parse_nssh_structure()

.doAbbreviate <- function(x) {
  xx <- gsub("National Cooperative Soil Survey", "NCSS", x)
  gsub("Quality Control, Quality Assurance,", "QC/QA*", xx)
}
dat$parent <- .doAbbreviate(dat$parent)
dat$href <- sprintf("[LINK](%s)", dat$href)
dat$part_subpart <- paste(dat$part, dat$subpart)
knitr::kable(dat[,c('part_subpart', 'parent', 'section', 'href')],
             col.names = c("Part & Subpart", "Part Name", "Section", "Link"))
``` 

 - \* QC/QA = Quality Control, Quality Assurance